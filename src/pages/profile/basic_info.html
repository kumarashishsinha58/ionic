<!--
  Generated template for the EditprofilePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title [ngStyle]="getHeaderStyle()">
      <h4 class="header-title">{{keywords.basic_information}}</h4>
    </ion-title>
    <ion-buttons start>
      <button ion-button (click)="closeFilter()">
        <span ion-text showWhen="ios">Cancel</span>
        <ion-icon name="md-close" showWhen="android,windows"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <div class="inputList">
    <ion-list class="inputLabel">
      <ion-item class="inputItem">
        <ion-label class="addInput-Label" floating>{{keywords.fullname}}</ion-label>
        <ion-input class="addInput" (keyup.enter)="moveFocus(b)" [(ngModel)]="user.fullname" type="text"></ion-input>
      </ion-item>
      <ion-item class="inputItem">
        <ion-label class="addInput-Label" floating>{{keywords.birth_date}}</ion-label>
        <ion-datetime displayFormat="MMM DD YYYY" max="{{currentTime}}" [(ngModel)]="user.dob" type="text">
        </ion-datetime>
      </ion-item>
      <ion-item class="inputItem item-leave-height">
        <ion-label class="addInput-Label" stacked>{{keywords.gender}}</ion-label>
        <ion-select interface="action-sheet" placeholder="Select Gender" [(ngModel)]="user.gender">
          <ion-option *ngFor="let gen of gender" [value]="gen.value">{{gen.name}}</ion-option>
        </ion-select>
      </ion-item>
      <ion-item class="inputItem">
        <ion-label class="addInput-Label" floating>{{keywords.address}}</ion-label>
        <ion-input class="addInput" #b (keyup.enter)="moveFocus(c)" [(ngModel)]="user.address" type="text">
        </ion-input>
      </ion-item>
      <ion-item class="inputItem">
        <ion-label class="addInput-Label" floating>{{keywords.country}}</ion-label>
        <ion-input class="addInput" #d (keyup.enter)="moveFocus(e)" [(ngModel)]="user.country" type="text">
        </ion-input>
      </ion-item>
      <ion-item class="inputItem">
        <ion-label class="addInput-Label" floating>{{keywords.phone}}</ion-label>
        <ion-input class="addInput" #contactnumber="ngModel" #e (keyup.enter)="moveFocus(f)" [(ngModel)]="user.phone"
          pattern="[0-9]{10,15}" maxlength="15" required type="tel"></ion-input>
      </ion-item>
      <div class="md-errors-spacer" [hidden]="contactnumber.valid || contactnumber.untouched">
        <div class="validation" *ngIf="contactnumber.errors && contactnumber.errors.pattern">
          Phone is invalid
        </div>
      </div>
      <ion-item class="inputItem item-leave-height">
        <ion-label class="addInput-Label" stacked>{{keywords.select_department}}</ion-label>
        <ion-select interface="action-sheet" placeholder="Select Department" (ionChange)='department()'
          [(ngModel)]="user.department_id">
          <ion-option *ngFor="let dept of departments" [value]="dept.deptid">{{dept.deptname}}</ion-option>
        </ion-select>
      </ion-item>
      <ion-item *ngIf="designate" class="inputItem item-leave-height">
        <ion-label class="addInput-Label" stacked>{{keywords.select_designation}}</ion-label>
        <ion-select interface="action-sheet" (ionChange)='reportingTo()' placeholder="Select Designation"
           [(ngModel)]="user.designation_id">
          <ion-option *ngFor="let des of designation" [value]="des.designation_id">{{des.designation}}</ion-option>
        </ion-select>
      </ion-item>
      <ion-item *ngIf="reporting" class="inputItem item-leave-height">
        <ion-label class="addInput-Label" stacked>{{keywords.reporting_to}}</ion-label>
        <ion-select interface="action-sheet" placeholder="Select Reporting officer" [(ngModel)]="user.teamlead_id">
          <ion-option *ngFor="let team of reporting_officer" [value]="team.id">{{team.username}}</ion-option>
        </ion-select>
      </ion-item>
    </ion-list>
    <button type="submit" [ngStyle]="colorCode" class="loginButton" #h (click)="editBasicInfo()" ion-button
      full>{{keywords.submit}}</button>
  </div>

</ion-content>