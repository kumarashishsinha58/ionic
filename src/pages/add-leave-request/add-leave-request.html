<!--
  Generated template for the AddLeaveRequestPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu" class="menuIcon"></ion-icon>
    </button>
    <ion-title [ngStyle]="getHeaderStyle()">
      <h4 class="header-title">{{keywords.add_leave_request}}</h4>
    </ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding>
  <div *ngIf="isData">
    <ion-row nowrap>
      <ion-col class="attendance-col">{{keywords.annual_leave}}
        <p class="attendance-col-value">{{leaves.annual_leaves}}</p>
      </ion-col>
      <ion-col class="attendance-col">{{keywords.sick_leave}} <p class="attendance-col-value">{{leaves.sick_leave}}</p>
      </ion-col>
    </ion-row>
    <ion-row nowrap>
      <ion-col class="attendance-col">{{keywords.total_leaves}}
        <p class="attendance-col-value">{{leaves.total_leaves}}</p>
      </ion-col>
      <ion-col class="attendance-col">Loss of Pay <p class="attendance-col-value">{{leaves.loss_of_pay}}</p>
      </ion-col>
    </ion-row>
    <form (ngSubmit)="addLeaverequest()" [formGroup]="leaveRequestForm">
      <ion-list class="inputLabel">
        <ion-item class="inputItem item-leave-height">
          <ion-label class="addInput-Label" stacked>{{keywords.select_leave_type}}</ion-label>
          <ion-select interface="action-sheet" placeholder="Select leave type" onchange="change()"
            formControlName="leave_type" [(ngModel)]="selectedLeave">
            <ion-option *ngFor="let leave of leave_types" [value]="leave.id">{{leave.leave_type}}</ion-option>
          </ion-select>
        </ion-item>
        <ion-item class="inputItem">
          <ion-label class="addInput-Label" floating>{{keywords.leave_from}}</ion-label>
          <ion-datetime displayFormat="MMM DD YYYY" (ionChange)="selectFrom()" min="{{currentTime}}" max="{{year+5}}"
            formControlName="leave_from"></ion-datetime>
        </ion-item>
        <ion-item class="inputItem">
          <ion-label class="addInput-Label" floating>{{keywords.leave_to}}</ion-label>
          <ion-datetime disabled="{{leave}}" displayFormat="MMM DD YYYY" min="{{leave_to}}" max="{{year+5}}"
            formControlName="leave_to"></ion-datetime>
        </ion-item>
        <ion-item class="inputItem">
          <ion-label class="addInput-Label" floating>{{keywords.leave_reason}}</ion-label>
          <ion-input class="addInput" formControlName="leave_reason" type="text"></ion-input>
        </ion-item>
      </ion-list>
      <button type="submit" [disabled]="!leaveRequestForm.valid" [ngStyle]="getHeaderStyle()" class="loginButton"
        ion-button full>{{keywords.add_leave_request}}</button>
    </form>
  </div>
</ion-content>